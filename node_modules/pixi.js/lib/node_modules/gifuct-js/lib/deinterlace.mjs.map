{"version":3,"file":"deinterlace.mjs","sources":["../../../../node_modules/gifuct-js/lib/deinterlace.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deinterlace = void 0;\n\n/**\r\n * Deinterlace function from https://github.com/shachaf/jsgif\r\n */\nvar deinterlace = function deinterlace(pixels, width) {\n  var newPixels = new Array(pixels.length);\n  var rows = pixels.length / width;\n\n  var cpRow = function cpRow(toRow, fromRow) {\n    var fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n  }; // See appendix E.\n\n\n  var offsets = [0, 4, 2, 1];\n  var steps = [8, 8, 4, 2];\n  var fromRow = 0;\n\n  for (var pass = 0; pass < 4; pass++) {\n    for (var toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n      cpRow(toRow, fromRow);\n      fromRow++;\n    }\n  }\n\n  return newPixels;\n};\n\nexports.deinterlace = deinterlace;"],"names":["deinterlace_1","deinterlace","cpRow","toRow","fromRow"],"mappings":";;;;AAEA,MAAO,CAAA,cAAA,CAAeA,eAAS,YAAc,EAAA;AAAA,EAC3C,KAAO,EAAA,IAAA;AACT,CAAC,CAAA,CAAA;AACqB,IAAA,aAAA,GAAAA,aAAA,CAAA,WAAA,GAAA,KAAA,EAAA;AAKtB,IAAI,WAAc,GAAA,SAASC,YAAY,CAAA,MAAA,EAAQ,KAAO,EAAA;AACpD,EAAA,IAAI,SAAY,GAAA,IAAI,KAAM,CAAA,MAAA,CAAO,MAAM,CAAA,CAAA;AACvC,EAAI,IAAA,IAAA,GAAO,OAAO,MAAS,GAAA,KAAA,CAAA;AAE3B,EAAA,IAAI,KAAQ,GAAA,SAASC,MAAMC,CAAAA,MAAAA,EAAOC,QAAS,EAAA;AACzC,IAAA,IAAI,aAAa,MAAO,CAAA,KAAA,CAAMA,WAAU,KAAQA,EAAAA,CAAAA,QAAAA,GAAU,KAAK,KAAK,CAAA,CAAA;AACpE,IAAU,SAAA,CAAA,MAAA,CAAO,KAAM,CAAA,SAAA,EAAW,CAACD,MAAAA,GAAQ,OAAO,KAAK,CAAA,CAAE,MAAO,CAAA,UAAU,CAAC,CAAA,CAAA;AAAA,GAC7E,CAAA;AAGA,EAAA,IAAI,OAAU,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AACzB,EAAA,IAAI,KAAQ,GAAA,CAAC,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;AACvB,EAAA,IAAI,OAAU,GAAA,CAAA,CAAA;AAEd,EAAA,KAAA,IAAS,IAAO,GAAA,CAAA,EAAG,IAAO,GAAA,CAAA,EAAG,IAAQ,EAAA,EAAA;AACnC,IAAS,KAAA,IAAA,KAAA,GAAQ,QAAQ,IAAI,CAAA,EAAG,QAAQ,IAAM,EAAA,KAAA,IAAS,KAAM,CAAA,IAAI,CAAG,EAAA;AAClE,MAAA,KAAA,CAAM,OAAO,OAAO,CAAA,CAAA;AACpB,MAAA,OAAA,EAAA,CAAA;AAAA,KACF;AAAA,GACF;AAEA,EAAO,OAAA,SAAA,CAAA;AACT,CAAA,CAAA;AAEA,aAAA,GAAAH,aAAA,CAAA,WAAsB,GAAA,WAAA;;;;","x_google_ignoreList":[0]}